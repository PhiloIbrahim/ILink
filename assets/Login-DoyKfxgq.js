import{_ as B,r as p,Q as c,C as y,c as S,a as j,d as t,w as r,V as E,e as N,u as T,f as z,H as $,g as D,k as f,m as g,b as l,j as d,n as I,J as U,K as q,L as M,x as O,M as V,v as w,t as R}from"./index-C7xJpMZA.js";const W={class:"auth-page"},G={class:"form-group"},H={class:"form-group"},J={class:"forgot-password-container"},K={class:"auth-switch"},Q={class:"switch-text"},A={__name:"Login",setup(X){const x=T(),b=z(),k=p(null),u=p(!1),m=p(!1),s=c({email:"",password:""}),a=c({email:[],password:[]});y(()=>s.email,o=>{a.email=[],o?/.+@.+\..+/.test(o)||a.email.push("Please enter a valid email address (e.g., user@example.com)"):a.email.push("Please enter your email address")}),y(()=>s.password,o=>{a.password=[],o?o.length<6&&a.password.push("Password must be at least 6 characters long"):a.password.push("Please enter your password")});const i=c({show:!1,message:"",color:"success"}),P=S(()=>s.email&&s.password&&/.+@.+\..+/.test(s.email)&&s.password.length>=6),C=()=>{const o=h(s.email),e=v(s.password);return o&&e},h=o=>{if(a.email=[],o){if(!/.+@.+\..+/.test(o))return a.email.push("Please enter a valid email address (e.g., user@example.com)"),!1}else return a.email.push("Please enter your email address"),!1;return!0},v=o=>{if(a.password=[],o){if(o.length<6)return a.password.push("Password must be at least 6 characters long"),!1}else return a.password.push("Please enter your password"),!1;return!0},L=async()=>{if(C()){m.value=!0;try{await x.dispatch("login",{email:s.email,password:s.password}),_("Login successful! Welcome back.","success"),setTimeout(()=>{b.push({name:"Profile"})},1500)}catch{_("Login failed. Please check your credentials.","error")}finally{m.value=!1}}},_=(o,e)=>{i.message=o,i.color=e,i.show=!0};return(o,e)=>{const F=$("router-link");return D(),j("div",W,[t(E,{class:"auth-container"},{default:r(()=>[t(f,{justify:"center",class:"header-row"},{default:r(()=>[t(g,{cols:"12",md:"10",lg:"8",class:"text-center"},{default:r(()=>e[7]||(e[7]=[l("div",{class:"auth-header"},[l("div",{class:"hero-content text-center"},[l("h1",{class:"header-title"},[d(" it's easy to customize your profile."),l("br"),d(" join itag to be smart "),l("span",{class:"highlight"},"NOW!")])])],-1)])),_:1,__:[7]})]),_:1}),t(f,{justify:"center",align:"center",class:"form-row"},{default:r(()=>[t(g,{cols:"12",sm:"8",md:"6",lg:"4",xl:"3"},{default:r(()=>[t(I,{class:"auth-card",elevation:"0"},{default:r(()=>[t(U,{class:"text-center"},{default:r(()=>e[8]||(e[8]=[l("h2",{style:{"font-size":"36px","font-weight":"200"}},"Login",-1)])),_:1,__:[8]}),t(q,{class:"auth-content"},{default:r(()=>[t(M,{onSubmit:O(L,["prevent"]),ref_key:"loginForm",ref:k},{default:r(()=>[l("div",G,[t(V,{modelValue:s.email,"onUpdate:modelValue":e[0]||(e[0]=n=>s.email=n),type:"email",placeholder:"E-mail",variant:"outlined","prepend-inner-icon":"mdi-account-outline",class:"auth-input","error-messages":a.email,error:a.email.length>0,"persistent-hint":"",hint:!s.email&&!a.email.length?"Enter your email address":"",onBlur:e[1]||(e[1]=n=>h(s.email)),required:""},null,8,["modelValue","error-messages","error","hint"])]),l("div",H,[t(V,{modelValue:s.password,"onUpdate:modelValue":e[2]||(e[2]=n=>s.password=n),type:u.value?"text":"password",placeholder:"Password",variant:"outlined","prepend-inner-icon":"mdi-lock-outline","append-inner-icon":u.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[3]||(e[3]=n=>u.value=!u.value),class:"auth-input","error-messages":a.password,error:a.password.length>0,"persistent-hint":"",hint:!s.password&&!a.password.length?"Enter your password (minimum 6 characters)":"",onBlur:e[4]||(e[4]=n=>v(s.password)),required:""},null,8,["modelValue","type","append-inner-icon","error-messages","error","hint"])]),t(w,{type:"submit",block:"",class:"login-btn",loading:m.value,disabled:!P.value,size:"large"},{default:r(()=>e[9]||(e[9]=[d(" LOGIN ")])),_:1,__:[9]},8,["loading","disabled"]),l("div",J,[t(w,{variant:"text",size:"small",class:"forgot-password-link"},{default:r(()=>e[10]||(e[10]=[d(" Forgot password? ")])),_:1,__:[10]})])]),_:1},512),l("div",K,[l("p",Q,[e[12]||(e[12]=d(" Don't have an account? ")),t(F,{to:"/signup",class:"auth-link"},{default:r(()=>e[11]||(e[11]=[d(" Sign up here ")])),_:1,__:[11]})])])]),_:1})]),_:1})]),_:1})]),_:1}),t(f,{justify:"center",class:"header-row"},{default:r(()=>[t(g,{cols:"12",md:"10",lg:"8",class:"text-center"},{default:r(()=>e[13]||(e[13]=[l("div",{class:"auth-header"},[l("div",{class:"hero-content text-center"},[l("h1",{class:"header-title"}," it's time to be smart ")])],-1)])),_:1,__:[13]})]),_:1})]),_:1}),t(N,{modelValue:i.show,"onUpdate:modelValue":e[6]||(e[6]=n=>i.show=n),color:i.color,location:"top",timeout:"4000"},{actions:r(()=>[t(w,{variant:"text",onClick:e[5]||(e[5]=n=>i.show=!1)},{default:r(()=>e[14]||(e[14]=[d(" Close ")])),_:1,__:[14]})]),default:r(()=>[d(R(i.message)+" ",1)]),_:1},8,["modelValue","color"])])}}},Z=B(A,[["__scopeId","data-v-a571bb22"]]);export{Z as default};
