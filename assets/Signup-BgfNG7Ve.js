import{_ as M,r as m,A as b,c as g,a as V,d as a,w as n,V as J,f as K,u as Q,g as X,B as ss,h as k,C as es,D as ts,s as rs,b as r,i,E as as,G as os,H as C,z as c,n as q,v,p,t as f,I as ns,l as _}from"./index-DrMHxNxx.js";const ls={class:"auth-page"},is={class:"form-group"},us={class:"form-group"},ds={class:"form-group"},ms={class:"form-group"},cs={key:0,class:"password-requirements"},ps={class:"form-group"},fs={class:"form-group terms-group"},ws={class:"terms-text"},hs={key:0,class:"terms-hint"},gs={class:"auth-switch"},vs={class:"switch-text"},Ps={__name:"Signup",setup(ys){const A=Q(),x=X(),S=m(null),w=m(!1),h=m(!1),u=m(!1),P=m(!1),y=m(!1),s=b({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),o=b({firstName:[],lastName:[],email:[],password:[],confirmPassword:[]}),d=b({show:!1,message:"",color:"success"}),z=[e=>!!e||"Name is required",e=>e&&e.length>=2||"Name must be at least 2 characters",e=>/^[a-zA-Z\s]*$/.test(e)||"Name can only contain letters and spaces"],F=[e=>!!e||"Email is required",e=>/.+@.+\..+/.test(e)||"Email must be valid"],Z=[e=>!!e||"Password is required",e=>e&&e.length>=8||"Password must be at least 8 characters",e=>/[A-Z]/.test(e)||"Password must contain at least one uppercase letter",e=>/[a-z]/.test(e)||"Password must contain at least one lowercase letter",e=>/[0-9]/.test(e)||"Password must contain at least one number"],T=[e=>!!e||"Please confirm your password",e=>e===s.password||"Passwords do not match"],R=g(()=>s.firstName&&s.lastName&&s.email&&s.password&&s.confirmPassword&&s.password===s.confirmPassword&&/.+@.+\..+/.test(s.email)&&s.password.length>=8&&/[A-Z]/.test(s.password)&&/[a-z]/.test(s.password)&&/[0-9]/.test(s.password)&&u.value),E=g(()=>{if(!s.password)return 0;let e=0;return s.password.length>=8&&e++,/[A-Z]/.test(s.password)&&e++,/[a-z]/.test(s.password)&&e++,/[0-9]/.test(s.password)&&e++,e}),$=g(()=>{const e=E.value;return e===0?"":e===1?"Weak":e===2?"Fair":e===3?"Good":"Strong"});g(()=>{const e=E.value;return e<=1?"error":e===2?"warning":e===3?"info":"success"});const U=()=>(Object.keys(o).forEach(e=>{o[e]=[]}),s.firstName?s.firstName.length<2?o.firstName.push("First name must be at least 2 characters"):/^[a-zA-Z\s]*$/.test(s.firstName)||o.firstName.push("First name can only contain letters and spaces"):o.firstName.push("First name is required"),s.lastName?s.lastName.length<2?o.lastName.push("Last name must be at least 2 characters"):/^[a-zA-Z\s]*$/.test(s.lastName)||o.lastName.push("Last name can only contain letters and spaces"):o.lastName.push("Last name is required"),s.email?/.+@.+\..+/.test(s.email)||o.email.push("Email must be valid"):o.email.push("Email is required"),s.password?(s.password.length<8&&o.password.push("Password must be at least 8 characters"),/[A-Z]/.test(s.password)||o.password.push("Password must contain at least one uppercase letter"),/[a-z]/.test(s.password)||o.password.push("Password must contain at least one lowercase letter"),/[0-9]/.test(s.password)||o.password.push("Password must contain at least one number")):o.password.push("Password is required"),s.confirmPassword?s.confirmPassword!==s.password&&o.confirmPassword.push("Passwords do not match"):o.confirmPassword.push("Please confirm your password"),Object.values(o).every(e=>e.length===0)),L=()=>{if(!s.firstName)return[];const e=[];return s.firstName.length<2&&e.push("First name must be at least 2 characters"),/^[a-zA-Z\s]*$/.test(s.firstName)||e.push("First name can only contain letters and spaces"),e},O=()=>{if(!s.lastName)return[];const e=[];return s.lastName.length<2&&e.push("Last name must be at least 2 characters"),/^[a-zA-Z\s]*$/.test(s.lastName)||e.push("Last name can only contain letters and spaces"),e},I=()=>{if(!s.email)return[];const e=[];return/.+@.+\..+/.test(s.email)||e.push("Please enter a valid email address"),e},B=()=>{if(!s.password)return[];const e=[];return s.password.length<8&&e.push("Password must be at least 8 characters"),/[A-Z]/.test(s.password)||e.push("Password must contain at least one uppercase letter"),/[a-z]/.test(s.password)||e.push("Password must contain at least one lowercase letter"),/[0-9]/.test(s.password)||e.push("Password must contain at least one number"),e},j=()=>{if(!s.confirmPassword)return[];const e=[];return s.confirmPassword!==s.password&&e.push("Passwords do not match"),e},D=()=>s.password?`Password strength: ${$.value}`:"Create a strong password with uppercase, lowercase, number and 8+ characters",W=()=>s.confirmPassword?s.confirmPassword===s.password?"Passwords match!":"Passwords do not match":"Re-enter your password to confirm",H=()=>y.value&&!u.value?["You must agree to the terms and conditions"]:[],G=async()=>{if(y.value=!0,!U()||!u.value){u.value||N("Please agree to the terms and conditions","error");return}P.value=!0;try{const e={email:s.email,password:s.password,firstName:s.firstName,lastName:s.lastName,phone:"",preferences:{notifications:!0,theme:A.state.theme}};await A.dispatch("signup",e),N("Account created successfully! Welcome to iTag.","success"),setTimeout(()=>{x.push({name:"Profile"})},2e3)}catch(e){console.error("Signup error:",e),N("Signup failed. Please try again.","error")}finally{P.value=!1}},N=(e,t)=>{d.message=e,d.color=t,d.show=!0};return(e,t)=>{const Y=ss("router-link");return k(),V("div",ls,[a(J,{class:"auth-container"},{default:n(()=>[a(es,{justify:"center",align:"center",class:"min-h-screen"},{default:n(()=>[a(ts,{cols:"12",sm:"8",md:"6",lg:"4",xl:"3"},{default:n(()=>[a(rs,{class:"auth-card",elevation:"0"},{default:n(()=>[t[23]||(t[23]=r("div",{class:"auth-header"},[r("h1",{class:"header-title"},[i(" create your profile to join"),r("br"),i(" itag community "),r("span",{class:"highlight"},"NOW!")])],-1)),a(as,{class:"auth-content"},{default:n(()=>[a(os,{onSubmit:C(G,["prevent"]),ref_key:"signupForm",ref:S},{default:n(()=>[r("div",is,[a(c,{modelValue:s.firstName,"onUpdate:modelValue":t[0]||(t[0]=l=>s.firstName=l),label:"First Name",placeholder:"Enter your first name",variant:"outlined","prepend-inner-icon":"mdi-account-outline",class:"auth-input","error-messages":L(),rules:z,"validate-on":"blur",hint:"At least 2 characters, letters only","persistent-hint":"",required:""},null,8,["modelValue","error-messages"])]),r("div",us,[a(c,{modelValue:s.lastName,"onUpdate:modelValue":t[1]||(t[1]=l=>s.lastName=l),label:"Last Name",placeholder:"Enter your last name",variant:"outlined","prepend-inner-icon":"mdi-account-outline",class:"auth-input","error-messages":O(),rules:z,"validate-on":"blur",hint:"At least 2 characters, letters only","persistent-hint":"",required:""},null,8,["modelValue","error-messages"])]),r("div",ds,[a(c,{modelValue:s.email,"onUpdate:modelValue":t[2]||(t[2]=l=>s.email=l),type:"email",label:"Email Address",placeholder:"Enter your email address",variant:"outlined","prepend-inner-icon":"mdi-email-outline",class:"auth-input","error-messages":I(),rules:F,"validate-on":"blur",hint:"We'll use this to send you important updates","persistent-hint":"",required:""},null,8,["modelValue","error-messages"])]),r("div",ms,[a(c,{modelValue:s.password,"onUpdate:modelValue":t[3]||(t[3]=l=>s.password=l),type:w.value?"text":"password",label:"Password",placeholder:"Create a strong password",variant:"outlined","prepend-inner-icon":"mdi-lock-outline","append-inner-icon":w.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":t[4]||(t[4]=l=>w.value=!w.value),class:"auth-input","error-messages":B(),rules:Z,"validate-on":"input",hint:D(),"persistent-hint":"",required:""},null,8,["modelValue","type","append-inner-icon","error-messages","hint"]),s.password?(k(),V("div",cs,[r("div",{class:v(["requirement-item",{met:s.password.length>=8}])},[a(p,{size:"small",color:s.password.length>=8?"success":"grey"},{default:n(()=>[i(f(s.password.length>=8?"mdi-check-circle":"mdi-circle-outline"),1)]),_:1},8,["color"]),t[12]||(t[12]=r("span",null,"At least 8 characters",-1))],2),r("div",{class:v(["requirement-item",{met:/[A-Z]/.test(s.password)}])},[a(p,{size:"small",color:/[A-Z]/.test(s.password)?"success":"grey"},{default:n(()=>[i(f(/[A-Z]/.test(s.password)?"mdi-check-circle":"mdi-circle-outline"),1)]),_:1},8,["color"]),t[13]||(t[13]=r("span",null,"One uppercase letter",-1))],2),r("div",{class:v(["requirement-item",{met:/[a-z]/.test(s.password)}])},[a(p,{size:"small",color:/[a-z]/.test(s.password)?"success":"grey"},{default:n(()=>[i(f(/[a-z]/.test(s.password)?"mdi-check-circle":"mdi-circle-outline"),1)]),_:1},8,["color"]),t[14]||(t[14]=r("span",null,"One lowercase letter",-1))],2),r("div",{class:v(["requirement-item",{met:/[0-9]/.test(s.password)}])},[a(p,{size:"small",color:/[0-9]/.test(s.password)?"success":"grey"},{default:n(()=>[i(f(/[0-9]/.test(s.password)?"mdi-check-circle":"mdi-circle-outline"),1)]),_:1},8,["color"]),t[15]||(t[15]=r("span",null,"One number",-1))],2)])):q("",!0)]),r("div",ps,[a(c,{modelValue:s.confirmPassword,"onUpdate:modelValue":t[5]||(t[5]=l=>s.confirmPassword=l),type:h.value?"text":"password",label:"Confirm Password",placeholder:"Re-enter your password",variant:"outlined","prepend-inner-icon":"mdi-lock-check-outline","append-inner-icon":h.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":t[6]||(t[6]=l=>h.value=!h.value),class:"auth-input","error-messages":j(),rules:T,"validate-on":"blur",hint:W(),"persistent-hint":"",required:""},null,8,["modelValue","type","append-inner-icon","error-messages","hint"])]),r("div",fs,[a(ns,{modelValue:u.value,"onUpdate:modelValue":t[9]||(t[9]=l=>u.value=l),color:"primary",class:"terms-checkbox",error:!u.value&&y.value,"error-messages":H()},{label:n(()=>[r("span",ws,[t[16]||(t[16]=i(" I agree to the ")),r("a",{href:"#",class:"terms-link",onClick:t[7]||(t[7]=C(()=>{},["prevent"]))},"Terms of Service"),t[17]||(t[17]=i(" and ")),r("a",{href:"#",class:"terms-link",onClick:t[8]||(t[8]=C(()=>{},["prevent"]))},"Privacy Policy")])]),_:1},8,["modelValue","error","error-messages"]),u.value?q("",!0):(k(),V("div",hs,[a(p,{size:"small",color:"info"},{default:n(()=>t[18]||(t[18]=[i("mdi-information")])),_:1,__:[18]}),t[19]||(t[19]=r("span",null,"You must agree to our terms to create an account",-1))]))]),a(_,{type:"submit",block:"",class:"signup-btn",loading:P.value,disabled:!R.value,size:"large"},{default:n(()=>t[20]||(t[20]=[i(" CREATE ACCOUNT ")])),_:1,__:[20]},8,["loading","disabled"])]),_:1},512),r("div",gs,[r("p",vs,[t[22]||(t[22]=i(" Already have an account? ")),a(Y,{to:"/login",class:"auth-link"},{default:n(()=>t[21]||(t[21]=[i(" Sign in here ")])),_:1,__:[21]})])])]),_:1})]),_:1,__:[23]})]),_:1})]),_:1})]),_:1}),a(K,{modelValue:d.show,"onUpdate:modelValue":t[11]||(t[11]=l=>d.show=l),color:d.color,location:"top",timeout:"4000"},{actions:n(()=>[a(_,{variant:"text",onClick:t[10]||(t[10]=l=>d.show=!1)},{default:n(()=>t[24]||(t[24]=[i(" Close ")])),_:1,__:[24]})]),default:n(()=>[i(f(d.message)+" ",1)]),_:1},8,["modelValue","color"])])}}},bs=M(Ps,[["__scopeId","data-v-42651c42"]]);export{bs as default};
