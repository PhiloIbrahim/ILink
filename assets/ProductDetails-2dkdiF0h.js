import{_ as X,r,c as B,u as Z,y as ee,o as te,a as g,d as t,h as M,z as R,w as a,V as E,A as ae,e as le,B as se,f as ie,C as oe,g as f,b as l,j as n,t as u,k as U,m as N,q as D,s as ne,F as q,l as G,p as ue,D as L,v as c,x as w,i as m,E as de,G as S,H as z,I,n as H,J as re,K as ce,L as ve,M as me,N as pe,O as fe,P as _e}from"./index-DOocLCyZ.js";const ge={class:"product-details-page"},be={class:"breadcrumb"},we={class:"breadcrumb-item current"},Ve={class:"product-main-image-container"},he={class:"bracket-frame"},ye={class:"d-flex align-center justify-center fill-height"},ke={class:"product-thumbnails"},Ce=["onClick"],xe={class:"product-header"},Pe={class:"product-title"},Te={class:"product-meta"},Re={class:"product-category"},Ee={class:"product-rating"},Ne={class:"rating-count"},De={class:"product-price-section"},Se={class:"product-price"},ze={key:0,class:"product-original-price"},Ie={key:1,class:"product-discount"},$e={class:"product-description"},Fe={class:"product-actions"},Oe={class:"quantity-selector"},Ae={class:"quantity-value"},Be={class:"add-to-cart-actions"},Me={class:"product-additional-info mt-5"},Ue={class:"social-share-section mt-0"},qe={class:"social-icons"},Ge={class:"related-image-container"},Le={class:"related-product-info"},He={class:"related-product-title"},We={class:"related-product-price"},Ye={__name:"ProductDetails",setup(je){const p=Z(),C=se(),V=ie(),b=r(null),o=r({}),h=r(""),d=r(1);r([]);const x=r([]);r(1);const W=r(5),y=r(!1),$=r(0),_=r({show:!1,text:"",color:"success"}),v=r({rating:5,title:"",comment:""});B(()=>Math.ceil(x.value.length/W.value));const P=B(()=>p.state.products.filter(i=>i.category===o.value.category&&i.id!==o.value.id).slice(0,4)),F=async()=>{if(!C.params.id){V.push("/products");return}b.value=C.params.id,p.state.products.length===0&&await p.dispatch("fetchProducts");const i=p.state.products.find(e=>e.id===parseInt(b.value)||e.id===b.value);if(!i){V.push("/products");return}o.value=i,o.value.images&&o.value.images.length>0&&(h.value=o.value.images[0]),Y()},Y=()=>{const i=[{id:1,userName:"John D.",userAvatar:null,date:new Date(2025,6,15),rating:5,title:"Excellent tracker",comment:"This tracker is amazing! Battery life is great and the app is very intuitive."},{id:2,userName:"Sarah M.",userAvatar:null,date:new Date(2025,6,10),rating:4.5,title:"Very good product",comment:"Works as advertised. The only improvement would be a slightly more compact design."},{id:3,userName:"Mike T.",userAvatar:null,date:new Date(2025,5,28),rating:4,title:"Good value",comment:"For the price, this is a great tracker. I've been using it for a month with no issues."}];x.value=i},j=i=>{for(let e=0;e<d.value;e++)p.dispatch("addToCart",i);A(`${d.value} x ${i.name} added to cart!`,"success"),d.value=1},J=i=>{for(let e=0;e<d.value;e++)p.dispatch("addToCart",i);V.push("/checkout"),d.value=1},K=i=>{i!==b.value&&V.push(`/products/${i}`)},Q=(i,e)=>{if(!e)return i;const k=i/(1-e/100);return Math.round(k)},O=async()=>{const i={id:Date.now(),userName:p.state.user?p.state.user.name:"Anonymous",userAvatar:null,date:new Date,rating:v.value.rating,title:v.value.title,comment:v.value.comment};x.value.unshift(i),y.value=!1,A("Thank you for your review!","success"),v.value={rating:5,title:"",comment:""}},A=(i,e="success")=>{_.value={show:!0,text:i,color:e}};return ee(()=>C.params.id,i=>{i&&i!==b.value&&F()}),te(()=>{F()}),(i,e)=>{const k=oe("router-link");return f(),g("div",ge,[t(E,{class:"px-6 py-4"},{default:a(()=>[l("div",be,[t(k,{to:"/",class:"breadcrumb-item"},{default:a(()=>e[12]||(e[12]=[n("Home")])),_:1,__:[12]}),e[14]||(e[14]=l("span",{class:"breadcrumb-separator"},"/",-1)),t(k,{to:"/products",class:"breadcrumb-item"},{default:a(()=>e[13]||(e[13]=[n("Products")])),_:1,__:[13]}),e[15]||(e[15]=l("span",{class:"breadcrumb-separator"},"/",-1)),l("span",we,u(o.value.name),1)])]),_:1}),t(E,{class:"product-details-container"},{default:a(()=>[t(U,null,{default:a(()=>[t(N,{cols:"12",md:"6",class:"product-gallery"},{default:a(()=>[l("div",Ve,[l("div",he,[t(D,{src:h.value,alt:o.value.name,height:"400",cover:"",class:"product-main-image rounded-lg"},{placeholder:a(()=>[l("div",ye,[t(ne,{indeterminate:"",color:"grey-lighten-4"})])]),_:1},8,["src","alt"])])]),l("div",ke,[(f(!0),g(q,null,G(o.value.images,(s,T)=>(f(),g("div",{key:T,class:ue(["thumbnail-item",{active:h.value===s}]),onClick:Je=>h.value=s},[t(D,{src:s,alt:`${o.value.name} thumbnail ${T+1}`,cover:"",height:"80",width:"80",class:"thumbnail-image rounded"},null,8,["src","alt"])],10,Ce))),128))])]),_:1}),t(N,{cols:"12",md:"6",class:"product-info"},{default:a(()=>[l("div",xe,[l("h1",Pe,u(o.value.name),1),l("div",Te,[l("div",Re,u(o.value.category),1),l("div",Ee,[t(L,{"model-value":o.value.rating,color:"amber",density:"compact","half-increments":"",readonly:"",size:"small"},null,8,["model-value"]),l("span",Ne,"("+u(o.value.reviewCount||0)+" reviews)",1)])])]),l("div",De,[l("div",Se,u(o.value.price)+" EGP",1),o.value.discount>0?(f(),g("div",ze,u(Q(o.value.price,o.value.discount))+" EGP ",1)):R("",!0),o.value.discount>0?(f(),g("div",Ie," -"+u(o.value.discount)+"% ",1)):R("",!0)]),l("div",$e,[l("p",null,u(o.value.description),1)]),l("div",Fe,[l("div",Oe,[t(c,{icon:"",onClick:e[0]||(e[0]=w(s=>d.value>1?d.value--:d.value,["stop"])),disabled:d.value<=1,variant:"outlined",class:"quantity-btn"},{default:a(()=>[t(m,null,{default:a(()=>e[16]||(e[16]=[n("mdi-minus")])),_:1,__:[16]})]),_:1},8,["disabled"]),l("div",Ae,u(d.value),1),t(c,{icon:"",onClick:e[1]||(e[1]=w(s=>d.value<99?d.value++:d.value,["stop"])),disabled:d.value>=99,variant:"outlined",class:"quantity-btn"},{default:a(()=>[t(m,null,{default:a(()=>e[17]||(e[17]=[n("mdi-plus")])),_:1,__:[17]})]),_:1},8,["disabled"])]),l("div",Be,[t(c,{"prepend-icon":"mdi-cart",size:"large",class:"add-to-cart-btn",disabled:o.value.stock===0,onClick:e[2]||(e[2]=w(s=>j(o.value),["stop"]))},{default:a(()=>e[18]||(e[18]=[n(" Add to Cart ")])),_:1,__:[18]},8,["disabled"]),t(c,{"prepend-icon":"mdi-shopping",size:"large",class:"buy-now-btn",disabled:o.value.stock===0,onClick:e[3]||(e[3]=w(s=>J(o.value),["stop"]))},{default:a(()=>e[19]||(e[19]=[n(" Buy Now ")])),_:1,__:[19]},8,["disabled"])]),l("div",Me,[t(de,{modelValue:$.value,"onUpdate:modelValue":e[4]||(e[4]=s=>$.value=s)},{default:a(()=>[t(S,{class:"product-info-panel"},{default:a(()=>[t(z,null,{actions:a(({expanded:s})=>[t(m,{size:"small"},{default:a(()=>[n(u(s?"mdi-minus":"mdi-plus"),1)]),_:2},1024)]),default:a(()=>[e[20]||(e[20]=l("div",{class:"panel-title"},"PRODUCT INFO",-1))]),_:1,__:[20]}),t(I,null,{default:a(()=>e[21]||(e[21]=[l("div",{class:"panel-content"},[n(" iLink Digital Business Card:"),l("br"),n(" It is an Smart Business Card, depends on NCF Technology."),l("br"),n(" Works with iPhone and Android Phones. ")],-1)])),_:1,__:[21]})]),_:1}),t(S,{class:"product-info-panel"},{default:a(()=>[t(z,null,{actions:a(({expanded:s})=>[t(m,{size:"small"},{default:a(()=>[n(u(s?"mdi-minus":"mdi-plus"),1)]),_:2},1024)]),default:a(()=>[e[22]||(e[22]=l("div",{class:"panel-title"},"RETURN & REFUND POLICY",-1))]),_:1,__:[22]}),t(I,null,{default:a(()=>e[23]||(e[23]=[l("div",{class:"panel-content"},[l("p",null,"Our return & refund policy:"),l("ul",null,[l("li",null,"Returns are accepted within 30 days of purchase"),l("li",null,"Product must be in original packaging and unused condition"),l("li",null,"Refunds will be processed within 5-7 business days"),l("li",null,"Shipping costs are non-refundable"),l("li",null,"For damaged or defective items, please contact customer support")])],-1)])),_:1,__:[23]})]),_:1}),t(S,{class:"product-info-panel"},{default:a(()=>[t(z,null,{actions:a(({expanded:s})=>[t(m,{size:"small"},{default:a(()=>[n(u(s?"mdi-minus":"mdi-plus"),1)]),_:2},1024)]),default:a(()=>[e[24]||(e[24]=l("div",{class:"panel-title"},"SHIPPING INFO",-1))]),_:1,__:[24]}),t(I,null,{default:a(()=>e[25]||(e[25]=[l("div",{class:"panel-content"},[l("p",null,"Our shipping information:"),l("ul",null,[l("li",null,"Orders are processed within 24-48 hours"),l("li",null,"Standard shipping: 3-5 business days"),l("li",null,"Express shipping: 1-2 business days (additional fee)"),l("li",null,"Free shipping on orders over 500 EGP"),l("li",null,"International shipping available to select countries")])],-1)])),_:1,__:[25]})]),_:1})]),_:1},8,["modelValue"])]),l("div",Ue,[e[30]||(e[30]=l("h3",{class:"share-title"},"TELL SOMEONE TO BE SMART",-1)),l("div",qe,[t(c,{icon:"",variant:"text",size:"large",class:"social-btn"},{default:a(()=>[t(m,null,{default:a(()=>e[26]||(e[26]=[n("mdi-whatsapp")])),_:1,__:[26]})]),_:1}),t(c,{icon:"",variant:"text",size:"large",class:"social-btn"},{default:a(()=>[t(m,null,{default:a(()=>e[27]||(e[27]=[n("mdi-facebook")])),_:1,__:[27]})]),_:1}),t(c,{icon:"",variant:"text",size:"large",class:"social-btn"},{default:a(()=>[t(m,null,{default:a(()=>e[28]||(e[28]=[n("mdi-instagram")])),_:1,__:[28]})]),_:1}),t(c,{icon:"",variant:"text",size:"large",class:"social-btn"},{default:a(()=>[t(m,null,{default:a(()=>e[29]||(e[29]=[n("mdi-music-note")])),_:1,__:[29]})]),_:1})])])])]),_:1})]),_:1})]),_:1}),P.value&&P.value.length?(f(),M(E,{key:0,class:"related-products-section mt-10"},{default:a(()=>[e[31]||(e[31]=l("h2",{class:"section-title"},"You May Also Like",-1)),t(U,null,{default:a(()=>[(f(!0),g(q,null,G(P.value,s=>(f(),M(N,{key:s.id,cols:"12",sm:"6",md:"3"},{default:a(()=>[t(H,{class:"related-product-card",elevation:"0",onClick:T=>K(s.id)},{default:a(()=>[l("div",Ge,[t(D,{src:s.images[0],alt:s.name,height:"180",cover:"",class:"related-product-image rounded-lg"},null,8,["src","alt"])]),l("div",Le,[l("h3",He,u(s.name),1),l("div",We,u(s.price)+" EGP",1)])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1,__:[31]})):R("",!0),t(ae,{modelValue:y.value,"onUpdate:modelValue":e[9]||(e[9]=s=>y.value=s),"max-width":"600px"},{default:a(()=>[t(H,null,{default:a(()=>[t(re,null,{default:a(()=>e[32]||(e[32]=[n("Write a Review")])),_:1,__:[32]}),t(ce,null,{default:a(()=>[t(ve,{ref:"reviewForm",onSubmit:w(O,["prevent"])},{default:a(()=>[t(L,{modelValue:v.value.rating,"onUpdate:modelValue":e[5]||(e[5]=s=>v.value.rating=s),color:"amber",hover:"",size:"large",label:"Rate this product"},null,8,["modelValue"]),t(me,{modelValue:v.value.title,"onUpdate:modelValue":e[6]||(e[6]=s=>v.value.title=s),label:"Review Title",placeholder:"Summarize your experience",variant:"outlined",rules:[s=>!!s||"Title is required"],class:"mt-4"},null,8,["modelValue","rules"]),t(pe,{modelValue:v.value.comment,"onUpdate:modelValue":e[7]||(e[7]=s=>v.value.comment=s),label:"Your Review",placeholder:"Share your experience with this product",variant:"outlined",rules:[s=>!!s||"Review content is required"],rows:"4"},null,8,["modelValue","rules"])]),_:1},512)]),_:1}),t(fe,null,{default:a(()=>[t(_e),t(c,{variant:"text",onClick:e[8]||(e[8]=s=>y.value=!1)},{default:a(()=>e[33]||(e[33]=[n("Cancel")])),_:1,__:[33]}),t(c,{color:"primary",onClick:O},{default:a(()=>e[34]||(e[34]=[n("Submit Review")])),_:1,__:[34]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(le,{modelValue:_.value.show,"onUpdate:modelValue":e[11]||(e[11]=s=>_.value.show=s),color:_.value.color,timeout:"3000",location:"top"},{actions:a(()=>[t(c,{variant:"text",onClick:e[10]||(e[10]=s=>_.value.show=!1)},{default:a(()=>e[35]||(e[35]=[n("Close")])),_:1,__:[35]})]),default:a(()=>[n(u(_.value.text)+" ",1)]),_:1},8,["modelValue","color"])])}}},Qe=X(Ye,[["__scopeId","data-v-cbb16a7b"]]);export{Qe as default};
