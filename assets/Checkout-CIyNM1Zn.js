import{_ as ee,r as y,D as x,c as g,u as se,o as te,g as ae,a as _,d as s,w as t,V as le,e as oe,f as re,h as f,G as b,H as p,b as a,i as r,s as q,I as z,M as ie,N as de,O as P,P as F,n as $,J as ue,K as ne,C as c,l as V,p as v,Q as D,F as R,q as A,m as L,R as B,S as E,t as i,T as M,A as Y,x as j,U as me,W as pe}from"./index-C-BfG-f7.js";const ce={class:"checkout-page"},fe={key:0,class:"step-content"},ve={class:"form-group"},ge={class:"form-group"},ye={class:"form-group"},_e={class:"form-group"},Ve={class:"form-group"},he={class:"form-group"},ke={class:"form-group"},we={class:"form-group"},Ce={class:"step-actions"},be={key:1,class:"step-content"},Ne={class:"review-section"},Se={class:"item-total"},xe={class:"review-section"},qe={class:"review-info"},ze={class:"review-text"},Fe={class:"review-section"},Te={class:"review-info"},Oe={class:"payment-info"},Ie={class:"step-actions"},Ue={class:"summary-item-price"},Pe={class:"price-breakdown"},$e={class:"price-row"},De={class:"price-row"},Re={class:"price-row"},Ae={class:"price-row total-row"},Le={class:"total-amount"},Be={class:"security-info"},Ee={class:"success-header"},Me={class:"success-subtitle"},Ye={__name:"Checkout",setup(je){const N=se(),T=ae(),n=y(1),h=y(!1),k=y(!1),O=y(""),H=y(null),l=x({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:""}),d=x({firstName:[],lastName:[],email:[],phone:[],address:[],city:[],state:[],zipCode:[]}),m=x({show:!1,message:"",color:"success"}),w=g(()=>N.state.cart),C=g(()=>N.getters.cartTotal),S=g(()=>C.value>100?0:9.99),I=g(()=>C.value*.08),Q=g(()=>C.value+S.value+I.value),W=g(()=>l.firstName&&l.lastName&&l.email&&l.phone&&l.address&&l.city&&l.state&&l.zipCode),Z=()=>{Object.keys(d).forEach(e=>{["firstName","lastName","email","phone","address","city","state","zipCode"].includes(e)&&(d[e]=[])});let u=!0;return l.firstName||(d.firstName.push("First name is required"),u=!1),l.lastName||(d.lastName.push("Last name is required"),u=!1),l.email?/.+@.+\..+/.test(l.email)||(d.email.push("Please enter a valid email"),u=!1):(d.email.push("Email is required"),u=!1),l.phone||(d.phone.push("Phone number is required"),u=!1),l.address||(d.address.push("Address is required"),u=!1),l.city||(d.city.push("City is required"),u=!1),l.state||(d.state.push("State is required"),u=!1),l.zipCode||(d.zipCode.push("ZIP code is required"),u=!1),u},G=()=>{n.value===1&&Z()&&(n.value=2)},J=()=>{n.value>1&&n.value--},K=async()=>{h.value=!0;try{await new Promise(u=>setTimeout(u,2e3)),O.value="ORD-"+Date.now().toString().slice(-6),w.value.forEach(u=>{N.dispatch("removeFromCart",u.id)}),k.value=!0}catch{U("Order failed. Please try again.","error")}finally{h.value=!1}},X=()=>{k.value=!1,T.push("/")},U=(u,e)=>{m.message=u,m.color=e,m.show=!0};return te(()=>{w.value.length===0&&(U("Your cart is empty. Redirecting to products...","warning"),setTimeout(()=>{T.push("/products")},2e3))}),(u,e)=>(f(),_("div",ce,[s(le,{class:"checkout-container"},{default:t(()=>[s(b,{justify:"center",class:"mb-6"},{default:t(()=>[s(p,{cols:"12"},{default:t(()=>e[12]||(e[12]=[a("div",{class:"checkout-header"},[a("h1",{class:"header-title"},[r(" complete your order to get"),a("br"),r(" your iTag products "),a("span",{class:"highlight"},"NOW!")])],-1)])),_:1,__:[12]})]),_:1}),s(b,{justify:"center"},{default:t(()=>[s(p,{cols:"12",lg:"8",xl:"7"},{default:t(()=>[s(q,{class:"checkout-form-card",elevation:"0"},{default:t(()=>[s(z,{class:"pb-0"},{default:t(()=>[s(ie,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=o=>n.value=o),class:"checkout-stepper",elevation:"0","hide-actions":""},{default:t(()=>[s(de,null,{default:t(()=>[s(P,{complete:n.value>1,color:n.value>=1?"primary":"grey",title:"Shipping Info",value:"1"},null,8,["complete","color"]),s(F),s(P,{complete:n.value>2,color:n.value>=2?"primary":"grey",title:"Review Order",value:"2"},null,8,["complete","color"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(z,{class:"checkout-content"},{default:t(()=>[n.value===1?(f(),_("div",fe,[e[15]||(e[15]=a("h2",{class:"step-title"},"Shipping Information",-1)),s(ue,{onSubmit:ne(G,["prevent"]),ref_key:"shippingForm",ref:H},{default:t(()=>[s(b,null,{default:t(()=>[s(p,{cols:"12",md:"6"},{default:t(()=>[a("div",ve,[s(c,{modelValue:l.firstName,"onUpdate:modelValue":e[1]||(e[1]=o=>l.firstName=o),placeholder:"First Name",variant:"outlined","prepend-inner-icon":"mdi-account-outline",class:"checkout-input","error-messages":d.firstName,"hide-details":"auto",required:""},null,8,["modelValue","error-messages"])])]),_:1}),s(p,{cols:"12",md:"6"},{default:t(()=>[a("div",ge,[s(c,{modelValue:l.lastName,"onUpdate:modelValue":e[2]||(e[2]=o=>l.lastName=o),placeholder:"Last Name",variant:"outlined","prepend-inner-icon":"mdi-account-outline",class:"checkout-input","error-messages":d.lastName,"hide-details":"auto",required:""},null,8,["modelValue","error-messages"])])]),_:1})]),_:1}),a("div",ye,[s(c,{modelValue:l.email,"onUpdate:modelValue":e[3]||(e[3]=o=>l.email=o),type:"email",placeholder:"Email Address",variant:"outlined","prepend-inner-icon":"mdi-email-outline",class:"checkout-input","error-messages":d.email,"hide-details":"auto",required:""},null,8,["modelValue","error-messages"])]),a("div",_e,[s(c,{modelValue:l.phone,"onUpdate:modelValue":e[4]||(e[4]=o=>l.phone=o),placeholder:"Phone Number",variant:"outlined","prepend-inner-icon":"mdi-phone-outline",class:"checkout-input","error-messages":d.phone,"hide-details":"auto",required:""},null,8,["modelValue","error-messages"])]),a("div",Ve,[s(c,{modelValue:l.address,"onUpdate:modelValue":e[5]||(e[5]=o=>l.address=o),placeholder:"Street Address",variant:"outlined","prepend-inner-icon":"mdi-map-marker-outline",class:"checkout-input","error-messages":d.address,"hide-details":"auto",required:""},null,8,["modelValue","error-messages"])]),s(b,null,{default:t(()=>[s(p,{cols:"12",md:"6"},{default:t(()=>[a("div",he,[s(c,{modelValue:l.city,"onUpdate:modelValue":e[6]||(e[6]=o=>l.city=o),placeholder:"City",variant:"outlined","prepend-inner-icon":"mdi-city-variant-outline",class:"checkout-input","error-messages":d.city,"hide-details":"auto",required:""},null,8,["modelValue","error-messages"])])]),_:1}),s(p,{cols:"12",md:"3"},{default:t(()=>[a("div",ke,[s(c,{modelValue:l.state,"onUpdate:modelValue":e[7]||(e[7]=o=>l.state=o),placeholder:"State",variant:"outlined",class:"checkout-input","error-messages":d.state,"hide-details":"auto",required:""},null,8,["modelValue","error-messages"])])]),_:1}),s(p,{cols:"12",md:"3"},{default:t(()=>[a("div",we,[s(c,{modelValue:l.zipCode,"onUpdate:modelValue":e[8]||(e[8]=o=>l.zipCode=o),placeholder:"ZIP Code",variant:"outlined",class:"checkout-input","error-messages":d.zipCode,"hide-details":"auto",required:""},null,8,["modelValue","error-messages"])])]),_:1})]),_:1}),a("div",Ce,[s(V,{type:"submit",class:"checkout-btn primary-btn",size:"large",loading:h.value,disabled:!W.value},{default:t(()=>[e[14]||(e[14]=r(" Review Order ")),s(v,{right:""},{default:t(()=>e[13]||(e[13]=[r("mdi-arrow-right")])),_:1,__:[13]})]),_:1,__:[14]},8,["loading","disabled"])])]),_:1},512)])):$("",!0),n.value===2?(f(),_("div",be,[e[29]||(e[29]=a("h2",{class:"step-title"},"Review Your Order",-1)),a("div",Ne,[e[16]||(e[16]=a("h3",{class:"review-section-title"},"Order Summary",-1)),s(D,{class:"order-items"},{default:t(()=>[(f(!0),_(R,null,A(w.value,o=>(f(),L(B,{key:o.id,class:"order-item"},{prepend:t(()=>[s(Y,{size:"60",rounded:"lg"},{default:t(()=>[s(j,{src:`https://picsum.photos/60/60?random=${o.id}`},null,8,["src"])]),_:2},1024)]),append:t(()=>[a("div",Se," $"+i((o.price*o.quantity).toFixed(2)),1)]),default:t(()=>[s(E,{class:"item-name"},{default:t(()=>[r(i(o.name),1)]),_:2},1024),s(M,{class:"item-details"},{default:t(()=>[r(" Quantity: "+i(o.quantity)+" Ã— $"+i(o.price),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),a("div",xe,[e[20]||(e[20]=a("h3",{class:"review-section-title"},"Shipping Address",-1)),a("div",qe,[a("p",ze,[r(i(l.firstName)+" "+i(l.lastName),1),e[17]||(e[17]=a("br",null,null,-1)),r(" "+i(l.address),1),e[18]||(e[18]=a("br",null,null,-1)),r(" "+i(l.city)+", "+i(l.state)+" "+i(l.zipCode),1),e[19]||(e[19]=a("br",null,null,-1)),r(" "+i(l.phone),1)])])]),a("div",Fe,[e[24]||(e[24]=a("h3",{class:"review-section-title"},"Payment Method",-1)),a("div",Te,[a("div",Oe,[s(v,{left:"",color:"success"},{default:t(()=>e[21]||(e[21]=[r("mdi-cash")])),_:1,__:[21]}),e[22]||(e[22]=a("span",{class:"card-info"}," Cash on Delivery (COD) ",-1))]),e[23]||(e[23]=a("p",{class:"cod-description"}," You will pay when your order is delivered to your address. ",-1))])]),a("div",Ie,[s(V,{variant:"outlined",class:"checkout-btn secondary-btn",size:"large",onClick:J},{default:t(()=>[s(v,{left:""},{default:t(()=>e[25]||(e[25]=[r("mdi-arrow-left")])),_:1,__:[25]}),e[26]||(e[26]=r(" Back "))]),_:1,__:[26]}),s(V,{class:"checkout-btn primary-btn",size:"large",loading:h.value,onClick:K},{default:t(()=>[s(v,{left:""},{default:t(()=>e[27]||(e[27]=[r("mdi-check")])),_:1,__:[27]}),e[28]||(e[28]=r(" Place Order "))]),_:1,__:[28]},8,["loading"])])])):$("",!0)]),_:1})]),_:1})]),_:1}),s(p,{cols:"12",lg:"4",xl:"4"},{default:t(()=>[s(q,{class:"order-summary-card",elevation:"0"},{default:t(()=>[s(me,{class:"summary-header"},{default:t(()=>[s(v,{left:""},{default:t(()=>e[30]||(e[30]=[r("mdi-receipt")])),_:1,__:[30]}),e[31]||(e[31]=r(" Order Summary "))]),_:1,__:[31]}),s(z,{class:"summary-content"},{default:t(()=>[s(D,{class:"summary-items"},{default:t(()=>[(f(!0),_(R,null,A(w.value,o=>(f(),L(B,{key:o.id,class:"summary-item"},{prepend:t(()=>[s(Y,{size:"40",rounded:"lg"},{default:t(()=>[s(j,{src:`https://picsum.photos/40/40?random=${o.id}`},null,8,["src"])]),_:2},1024)]),append:t(()=>[a("div",Ue," $"+i((o.price*o.quantity).toFixed(2)),1)]),default:t(()=>[s(E,{class:"summary-item-name"},{default:t(()=>[r(i(o.name),1)]),_:2},1024),s(M,{class:"summary-item-qty"},{default:t(()=>[r(" Qty: "+i(o.quantity),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(F,{class:"my-4"}),a("div",Pe,[a("div",$e,[e[32]||(e[32]=a("span",null,"Subtotal:",-1)),a("span",null,"$"+i(C.value.toFixed(2)),1)]),a("div",De,[e[33]||(e[33]=a("span",null,"Shipping:",-1)),a("span",null,i(S.value===0?"Free":"$"+S.value.toFixed(2)),1)]),a("div",Re,[e[34]||(e[34]=a("span",null,"Tax:",-1)),a("span",null,"$"+i(I.value.toFixed(2)),1)]),s(F,{class:"my-2"}),a("div",Ae,[e[35]||(e[35]=a("span",{class:"total-label"},"Total:",-1)),a("span",Le,"$"+i(Q.value.toFixed(2)),1)])]),a("div",Be,[s(v,{left:"",color:"success",size:"small"},{default:t(()=>e[36]||(e[36]=[r("mdi-truck-delivery")])),_:1,__:[36]}),e[37]||(e[37]=a("span",{class:"security-text"},"Safe and secure cash on delivery",-1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(oe,{modelValue:k.value,"onUpdate:modelValue":e[9]||(e[9]=o=>k.value=o),persistent:"","max-width":"500"},{default:t(()=>[s(q,{class:"success-dialog"},{default:t(()=>[a("div",Ee,[s(v,{size:"64",color:"success"},{default:t(()=>e[38]||(e[38]=[r("mdi-check-circle")])),_:1,__:[38]}),e[39]||(e[39]=a("h2",{class:"success-title"},"Order Placed Successfully!",-1)),a("p",Me," Thank you for your purchase. Your order #"+i(O.value)+" is being processed. ",1)]),s(pe,{class:"success-actions"},{default:t(()=>[s(V,{color:"primary",variant:"flat",onClick:X,block:"",size:"large"},{default:t(()=>e[40]||(e[40]=[r(" Continue Shopping ")])),_:1,__:[40]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(re,{modelValue:m.show,"onUpdate:modelValue":e[11]||(e[11]=o=>m.show=o),color:m.color,location:"top",timeout:"4000"},{actions:t(()=>[s(V,{variant:"text",onClick:e[10]||(e[10]=o=>m.show=!1)},{default:t(()=>e[41]||(e[41]=[r(" Close ")])),_:1,__:[41]})]),default:t(()=>[r(i(m.message)+" ",1)]),_:1},8,["modelValue","color"])]))}},Qe=ee(Ye,[["__scopeId","data-v-7edab08d"]]);export{Qe as default};
