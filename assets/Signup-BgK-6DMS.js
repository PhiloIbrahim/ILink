import{_ as x,r as m,L as g,c as S,a as F,b as o,w as l,V as T,e as q,u as A,f as U,M as E,o as $,g as O,h as z,x as B,i as r,l as n,B as D,N as I,O as v,P as p,Q as L,m as V,t as j}from"./index-Bv1G-sGR.js";const Z={class:"auth-page"},R={class:"form-group"},M={class:"form-group"},W={class:"form-group"},H={class:"form-group"},Q={class:"form-group"},G={class:"form-group terms-group"},J={class:"terms-text"},K={class:"auth-switch"},X={class:"switch-text"},Y={__name:"Signup",setup(ee){const N=A(),y=U(),P=m(null),c=m(!1),f=m(!1),u=m(!1),w=m(!1),e=g({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),a=g({firstName:[],lastName:[],email:[],password:[],confirmPassword:[]}),d=g({show:!1,message:"",color:"success"}),k=S(()=>e.firstName&&e.lastName&&e.email&&e.password&&e.confirmPassword&&e.password===e.confirmPassword&&/.+@.+\..+/.test(e.email)&&e.password.length>=8&&/[A-Z]/.test(e.password)&&/[a-z]/.test(e.password)&&/[0-9]/.test(e.password)&&u.value),b=()=>(Object.keys(a).forEach(i=>{a[i]=[]}),e.firstName?e.firstName.length<2?a.firstName.push("First name must be at least 2 characters"):/^[a-zA-Z\s]*$/.test(e.firstName)||a.firstName.push("First name can only contain letters and spaces"):a.firstName.push("First name is required"),e.lastName?e.lastName.length<2?a.lastName.push("Last name must be at least 2 characters"):/^[a-zA-Z\s]*$/.test(e.lastName)||a.lastName.push("Last name can only contain letters and spaces"):a.lastName.push("Last name is required"),e.email?/.+@.+\..+/.test(e.email)||a.email.push("Email must be valid"):a.email.push("Email is required"),e.password?(e.password.length<8&&a.password.push("Password must be at least 8 characters"),/[A-Z]/.test(e.password)||a.password.push("Password must contain at least one uppercase letter"),/[a-z]/.test(e.password)||a.password.push("Password must contain at least one lowercase letter"),/[0-9]/.test(e.password)||a.password.push("Password must contain at least one number")):a.password.push("Password is required"),e.confirmPassword?e.confirmPassword!==e.password&&a.confirmPassword.push("Passwords do not match"):a.confirmPassword.push("Please confirm your password"),Object.values(a).every(i=>i.length===0)),C=async()=>{if(!b()||!u.value){u.value||h("Please agree to the terms and conditions","error");return}w.value=!0;try{const i={email:e.email,name:`${e.firstName} ${e.lastName}`,firstName:e.firstName,lastName:e.lastName,id:Date.now(),createdAt:new Date().toISOString(),preferences:{notifications:!0,theme:N.state.theme}};await N.dispatch("signup",i),h("Account created successfully! Welcome to iTag.","success"),setTimeout(()=>{y.push({name:"Home"})},2e3)}catch{h("Signup failed. Please try again.","error")}finally{w.value=!1}},h=(i,s)=>{d.message=i,d.color=s,d.show=!0};return(i,s)=>{const _=E("router-link");return $(),F("div",Z,[o(T,{class:"auth-container"},{default:l(()=>[o(O,{justify:"center",align:"center",class:"min-h-screen"},{default:l(()=>[o(z,{cols:"12",sm:"8",md:"6",lg:"4",xl:"3"},{default:l(()=>[o(B,{class:"auth-card",elevation:"0"},{default:l(()=>[s[17]||(s[17]=r("div",{class:"auth-header"},[r("h1",{class:"header-title"},[n(" create your profile to join"),r("br"),n(" itag community "),r("span",{class:"highlight"},"NOW!")])],-1)),o(D,{class:"auth-content"},{default:l(()=>[o(I,{onSubmit:v(C,["prevent"]),ref_key:"signupForm",ref:P},{default:l(()=>[r("div",R,[o(p,{modelValue:e.firstName,"onUpdate:modelValue":s[0]||(s[0]=t=>e.firstName=t),placeholder:"First Name",variant:"outlined","prepend-inner-icon":"mdi-account-outline",class:"auth-input","error-messages":a.firstName,"hide-details":"auto",required:""},null,8,["modelValue","error-messages"])]),r("div",M,[o(p,{modelValue:e.lastName,"onUpdate:modelValue":s[1]||(s[1]=t=>e.lastName=t),placeholder:"Last Name",variant:"outlined","prepend-inner-icon":"mdi-account-outline",class:"auth-input","error-messages":a.lastName,"hide-details":"auto",required:""},null,8,["modelValue","error-messages"])]),r("div",W,[o(p,{modelValue:e.email,"onUpdate:modelValue":s[2]||(s[2]=t=>e.email=t),type:"email",placeholder:"E-mail",variant:"outlined","prepend-inner-icon":"mdi-email-outline",class:"auth-input","error-messages":a.email,"hide-details":"auto",required:""},null,8,["modelValue","error-messages"])]),r("div",H,[o(p,{modelValue:e.password,"onUpdate:modelValue":s[3]||(s[3]=t=>e.password=t),type:c.value?"text":"password",placeholder:"Password",variant:"outlined","prepend-inner-icon":"mdi-lock-outline","append-inner-icon":c.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":s[4]||(s[4]=t=>c.value=!c.value),class:"auth-input","error-messages":a.password,"hide-details":"auto",required:""},null,8,["modelValue","type","append-inner-icon","error-messages"])]),r("div",Q,[o(p,{modelValue:e.confirmPassword,"onUpdate:modelValue":s[5]||(s[5]=t=>e.confirmPassword=t),type:f.value?"text":"password",placeholder:"Confirm Password",variant:"outlined","prepend-inner-icon":"mdi-lock-check-outline","append-inner-icon":f.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":s[6]||(s[6]=t=>f.value=!f.value),class:"auth-input","error-messages":a.confirmPassword,"hide-details":"auto",required:""},null,8,["modelValue","type","append-inner-icon","error-messages"])]),r("div",G,[o(L,{modelValue:u.value,"onUpdate:modelValue":s[9]||(s[9]=t=>u.value=t),color:"primary",class:"terms-checkbox","hide-details":""},{label:l(()=>[r("span",J,[s[12]||(s[12]=n(" I agree to the ")),r("a",{href:"#",class:"terms-link",onClick:s[7]||(s[7]=v(()=>{},["prevent"]))},"Terms of Service"),s[13]||(s[13]=n(" and ")),r("a",{href:"#",class:"terms-link",onClick:s[8]||(s[8]=v(()=>{},["prevent"]))},"Privacy Policy")])]),_:1},8,["modelValue"])]),o(V,{type:"submit",block:"",class:"signup-btn",loading:w.value,disabled:!k.value,size:"large"},{default:l(()=>s[14]||(s[14]=[n(" CREATE ACCOUNT ")])),_:1,__:[14]},8,["loading","disabled"])]),_:1},512),r("div",K,[r("p",X,[s[16]||(s[16]=n(" Already have an account? ")),o(_,{to:"/login",class:"auth-link"},{default:l(()=>s[15]||(s[15]=[n(" Sign in here ")])),_:1,__:[15]})])])]),_:1})]),_:1,__:[17]})]),_:1})]),_:1})]),_:1}),o(q,{modelValue:d.show,"onUpdate:modelValue":s[11]||(s[11]=t=>d.show=t),color:d.color,location:"top",timeout:"4000"},{actions:l(()=>[o(V,{variant:"text",onClick:s[10]||(s[10]=t=>d.show=!1)},{default:l(()=>s[18]||(s[18]=[n(" Close ")])),_:1,__:[18]})]),default:l(()=>[n(j(d.message)+" ",1)]),_:1},8,["modelValue","color"])])}}},ae=x(Y,[["__scopeId","data-v-231bcf25"]]);export{ae as default};
