import{_ as K,r as m,x as b,c as g,a as V,d as a,w as o,V as Q,e as X,u as ee,f as se,y as te,g as k,k as x,m as _,b as r,j as i,n as re,z as ae,A as oe,B as C,C as c,D as q,p as v,i as p,t as f,E as ne,v as S}from"./index-Krw0ZckC.js";const le={class:"auth-page"},ie={class:"form-group"},ue={class:"form-group"},de={class:"form-group"},me={class:"form-group"},ce={key:0,class:"password-requirements"},pe={class:"form-group"},fe={class:"form-group terms-group"},we={class:"terms-text"},he={key:0,class:"terms-hint"},ge={class:"auth-switch"},ve={class:"switch-text"},Pe={__name:"Signup",setup(ye){const z=ee(),F=se(),Z=m(null),w=m(!1),h=m(!1),u=m(!1),P=m(!1),y=m(!1),e=b({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),n=b({firstName:[],lastName:[],email:[],password:[],confirmPassword:[]}),d=b({show:!1,message:"",color:"success"}),A=[s=>!!s||"Name is required",s=>s&&s.length>=2||"Name must be at least 2 characters",s=>/^[a-zA-Z\s]*$/.test(s)||"Name can only contain letters and spaces"],T=[s=>!!s||"Email is required",s=>/.+@.+\..+/.test(s)||"Email must be valid"],R=[s=>!!s||"Password is required",s=>s&&s.length>=8||"Password must be at least 8 characters",s=>/[A-Z]/.test(s)||"Password must contain at least one uppercase letter",s=>/[a-z]/.test(s)||"Password must contain at least one lowercase letter",s=>/[0-9]/.test(s)||"Password must contain at least one number"],$=[s=>!!s||"Please confirm your password",s=>s===e.password||"Passwords do not match"],U=g(()=>e.firstName&&e.lastName&&e.email&&e.password&&e.confirmPassword&&e.password===e.confirmPassword&&/.+@.+\..+/.test(e.email)&&e.password.length>=8&&/[A-Z]/.test(e.password)&&/[a-z]/.test(e.password)&&/[0-9]/.test(e.password)&&u.value),E=g(()=>{if(!e.password)return 0;let s=0;return e.password.length>=8&&s++,/[A-Z]/.test(e.password)&&s++,/[a-z]/.test(e.password)&&s++,/[0-9]/.test(e.password)&&s++,s}),L=g(()=>{const s=E.value;return s===0?"":s===1?"Weak":s===2?"Fair":s===3?"Good":"Strong"});g(()=>{const s=E.value;return s<=1?"error":s===2?"warning":s===3?"info":"success"});const O=()=>(Object.keys(n).forEach(s=>{n[s]=[]}),e.firstName?e.firstName.length<2?n.firstName.push("First name must be at least 2 characters"):/^[a-zA-Z\s]*$/.test(e.firstName)||n.firstName.push("First name can only contain letters and spaces"):n.firstName.push("First name is required"),e.lastName?e.lastName.length<2?n.lastName.push("Last name must be at least 2 characters"):/^[a-zA-Z\s]*$/.test(e.lastName)||n.lastName.push("Last name can only contain letters and spaces"):n.lastName.push("Last name is required"),e.email?/.+@.+\..+/.test(e.email)||n.email.push("Email must be valid"):n.email.push("Email is required"),e.password?(e.password.length<8&&n.password.push("Password must be at least 8 characters"),/[A-Z]/.test(e.password)||n.password.push("Password must contain at least one uppercase letter"),/[a-z]/.test(e.password)||n.password.push("Password must contain at least one lowercase letter"),/[0-9]/.test(e.password)||n.password.push("Password must contain at least one number")):n.password.push("Password is required"),e.confirmPassword?e.confirmPassword!==e.password&&n.confirmPassword.push("Passwords do not match"):n.confirmPassword.push("Please confirm your password"),Object.values(n).every(s=>s.length===0)),j=()=>{if(!e.firstName)return[];const s=[];return e.firstName.length<2&&s.push("First name must be at least 2 characters"),/^[a-zA-Z\s]*$/.test(e.firstName)||s.push("First name can only contain letters and spaces"),s},B=()=>{if(!e.lastName)return[];const s=[];return e.lastName.length<2&&s.push("Last name must be at least 2 characters"),/^[a-zA-Z\s]*$/.test(e.lastName)||s.push("Last name can only contain letters and spaces"),s},I=()=>{if(!e.email)return[];const s=[];return/.+@.+\..+/.test(e.email)||s.push("Please enter a valid email address"),s},D=()=>{if(!e.password)return[];const s=[];return e.password.length<8&&s.push("Password must be at least 8 characters"),/[A-Z]/.test(e.password)||s.push("Password must contain at least one uppercase letter"),/[a-z]/.test(e.password)||s.push("Password must contain at least one lowercase letter"),/[0-9]/.test(e.password)||s.push("Password must contain at least one number"),s},W=()=>{if(!e.confirmPassword)return[];const s=[];return e.confirmPassword!==e.password&&s.push("Passwords do not match"),s},H=()=>e.password?`Password strength: ${L.value}`:"Create a strong password with uppercase, lowercase, number and 8+ characters",Y=()=>e.confirmPassword?e.confirmPassword===e.password?"Passwords match!":"Passwords do not match":"Re-enter your password to confirm",G=()=>y.value&&!u.value?["You must agree to the terms and conditions"]:[],M=async()=>{if(y.value=!0,!O()||!u.value){u.value||N("Please agree to the terms and conditions","error");return}P.value=!0;try{const s={email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,phone:"",preferences:{notifications:!0,theme:z.state.theme}};await z.dispatch("signup",s),N("Account created successfully! Welcome to iTag.","success"),setTimeout(()=>{F.push({name:"Profile"})},2e3)}catch(s){console.error("Signup error:",s),N("Signup failed. Please try again.","error")}finally{P.value=!1}},N=(s,t)=>{d.message=s,d.color=t,d.show=!0};return(s,t)=>{const J=te("router-link");return k(),V("div",le,[a(Q,{class:"auth-container"},{default:o(()=>[a(x,{justify:"center",class:"header-row"},{default:o(()=>[a(_,{cols:"12",md:"10",lg:"8",class:"text-center"},{default:o(()=>t[12]||(t[12]=[r("div",{class:"auth-header"},[r("div",{class:"hero-content text-center"},[r("h1",{class:"header-title"},[i(" it's easy to customize your profile."),r("br"),i(" join itag to be smart "),r("span",{class:"highlight"},"NOW!")])])],-1)])),_:1,__:[12]})]),_:1}),a(x,{justify:"center",align:"center",class:"min-h-screen"},{default:o(()=>[a(_,{cols:"12",sm:"8",md:"6",lg:"4",xl:"3"},{default:o(()=>[a(re,{class:"auth-card",elevation:"0"},{default:o(()=>[a(ae,{class:"auth-content"},{default:o(()=>[a(oe,{onSubmit:C(M,["prevent"]),ref_key:"signupForm",ref:Z},{default:o(()=>[r("div",ie,[a(c,{modelValue:e.firstName,"onUpdate:modelValue":t[0]||(t[0]=l=>e.firstName=l),label:"First Name",placeholder:"Enter your first name",variant:"outlined","prepend-inner-icon":"mdi-account-outline",class:"auth-input","error-messages":j(),rules:A,"validate-on":"blur",hint:"At least 2 characters, letters only","persistent-hint":"",required:""},null,8,["modelValue","error-messages"])]),r("div",ue,[a(c,{modelValue:e.lastName,"onUpdate:modelValue":t[1]||(t[1]=l=>e.lastName=l),label:"Last Name",placeholder:"Enter your last name",variant:"outlined","prepend-inner-icon":"mdi-account-outline",class:"auth-input","error-messages":B(),rules:A,"validate-on":"blur",hint:"At least 2 characters, letters only","persistent-hint":"",required:""},null,8,["modelValue","error-messages"])]),r("div",de,[a(c,{modelValue:e.email,"onUpdate:modelValue":t[2]||(t[2]=l=>e.email=l),type:"email",label:"Email Address",placeholder:"Enter your email address",variant:"outlined","prepend-inner-icon":"mdi-email-outline",class:"auth-input","error-messages":I(),rules:T,"validate-on":"blur",hint:"We'll use this to send you important updates","persistent-hint":"",required:""},null,8,["modelValue","error-messages"])]),r("div",me,[a(c,{modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=l=>e.password=l),type:w.value?"text":"password",label:"Password",placeholder:"Create a strong password",variant:"outlined","prepend-inner-icon":"mdi-lock-outline","append-inner-icon":w.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":t[4]||(t[4]=l=>w.value=!w.value),class:"auth-input","error-messages":D(),rules:R,"validate-on":"input",hint:H(),"persistent-hint":"",required:""},null,8,["modelValue","type","append-inner-icon","error-messages","hint"]),e.password?(k(),V("div",ce,[r("div",{class:v(["requirement-item",{met:e.password.length>=8}])},[a(p,{size:"small",color:e.password.length>=8?"success":"grey"},{default:o(()=>[i(f(e.password.length>=8?"mdi-check-circle":"mdi-circle-outline"),1)]),_:1},8,["color"]),t[13]||(t[13]=r("span",null,"At least 8 characters",-1))],2),r("div",{class:v(["requirement-item",{met:/[A-Z]/.test(e.password)}])},[a(p,{size:"small",color:/[A-Z]/.test(e.password)?"success":"grey"},{default:o(()=>[i(f(/[A-Z]/.test(e.password)?"mdi-check-circle":"mdi-circle-outline"),1)]),_:1},8,["color"]),t[14]||(t[14]=r("span",null,"One uppercase letter",-1))],2),r("div",{class:v(["requirement-item",{met:/[a-z]/.test(e.password)}])},[a(p,{size:"small",color:/[a-z]/.test(e.password)?"success":"grey"},{default:o(()=>[i(f(/[a-z]/.test(e.password)?"mdi-check-circle":"mdi-circle-outline"),1)]),_:1},8,["color"]),t[15]||(t[15]=r("span",null,"One lowercase letter",-1))],2),r("div",{class:v(["requirement-item",{met:/[0-9]/.test(e.password)}])},[a(p,{size:"small",color:/[0-9]/.test(e.password)?"success":"grey"},{default:o(()=>[i(f(/[0-9]/.test(e.password)?"mdi-check-circle":"mdi-circle-outline"),1)]),_:1},8,["color"]),t[16]||(t[16]=r("span",null,"One number",-1))],2)])):q("",!0)]),r("div",pe,[a(c,{modelValue:e.confirmPassword,"onUpdate:modelValue":t[5]||(t[5]=l=>e.confirmPassword=l),type:h.value?"text":"password",label:"Confirm Password",placeholder:"Re-enter your password",variant:"outlined","prepend-inner-icon":"mdi-lock-check-outline","append-inner-icon":h.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":t[6]||(t[6]=l=>h.value=!h.value),class:"auth-input","error-messages":W(),rules:$,"validate-on":"blur",hint:Y(),"persistent-hint":"",required:""},null,8,["modelValue","type","append-inner-icon","error-messages","hint"])]),r("div",fe,[a(ne,{modelValue:u.value,"onUpdate:modelValue":t[9]||(t[9]=l=>u.value=l),color:"primary",class:"terms-checkbox",error:!u.value&&y.value,"error-messages":G()},{label:o(()=>[r("span",we,[t[17]||(t[17]=i(" I agree to the ")),r("a",{href:"#",class:"terms-link",onClick:t[7]||(t[7]=C(()=>{},["prevent"]))},"Terms of Service"),t[18]||(t[18]=i(" and ")),r("a",{href:"#",class:"terms-link",onClick:t[8]||(t[8]=C(()=>{},["prevent"]))},"Privacy Policy")])]),_:1},8,["modelValue","error","error-messages"]),u.value?q("",!0):(k(),V("div",he,[a(p,{size:"small",color:"info"},{default:o(()=>t[19]||(t[19]=[i("mdi-information")])),_:1,__:[19]}),t[20]||(t[20]=r("span",null,"You must agree to our terms to create an account",-1))]))]),a(S,{type:"submit",block:"",class:"signup-btn",loading:P.value,disabled:!U.value,size:"large"},{default:o(()=>t[21]||(t[21]=[i(" CREATE ACCOUNT ")])),_:1,__:[21]},8,["loading","disabled"])]),_:1},512),r("div",ge,[r("p",ve,[t[23]||(t[23]=i(" Already have an account? ")),a(J,{to:"/login",class:"auth-link"},{default:o(()=>t[22]||(t[22]=[i(" Sign in here ")])),_:1,__:[22]})])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(X,{modelValue:d.show,"onUpdate:modelValue":t[11]||(t[11]=l=>d.show=l),color:d.color,location:"top",timeout:"4000"},{actions:o(()=>[a(S,{variant:"text",onClick:t[10]||(t[10]=l=>d.show=!1)},{default:o(()=>t[24]||(t[24]=[i(" Close ")])),_:1,__:[24]})]),default:o(()=>[i(f(d.message)+" ",1)]),_:1},8,["modelValue","color"])])}}},be=K(Pe,[["__scopeId","data-v-15383f7c"]]);export{be as default};
